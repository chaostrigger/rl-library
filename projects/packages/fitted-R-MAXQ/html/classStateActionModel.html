<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Fitted R-MAXQ: StateActionModel Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>StateActionModel Class Reference</h1><!-- doxytag: class="StateActionModel" -->Interface for objects that predict the dynamics of a given action at a given state.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="action_8hh-source.html">action.hh</a>&gt;</code>
<p>
<p>Inheritance diagram for StateActionModel:
<p><center><img src="classStateActionModel.png" usemap="#StateActionModel_map" border="0" alt=""></center>
<map name="StateActionModel_map">
<area href="classPredictor_1_1State.html" alt="Predictor::State" shape="rect" coords="0,56,239,80">
<area href="classPrimitiveTask_1_1PrimitiveStateActionModel.html" alt="PrimitiveTask::PrimitiveStateActionModel" shape="rect" coords="249,56,488,80">
</map>
<a href="classStateActionModel-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef boost::shared_ptr&lt;<br>
 <a class="el" href="classStateActionModel_1_1Observer.html">Observer</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#a52e5afea81f03a73a6cf73a5caf0515">ObserverRef</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef boost::weak_ptr&lt; <a class="el" href="classStateActionModel_1_1Observer.html">Observer</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">ObserverWeakRef</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#288e336083b8428aae70e0e699e22d75">~StateActionModel</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#20c477242feaa878c48e16f11712773a">state</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#2aa3d4b60f1916ae73ca367960779f5e">reward</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual const <a class="el" href="action_8hh.html#626c25d58262ddb00339679776c6b8d9">EffectDistribution</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#ca92554635438ecfc43efa7d2df3a3b7">effects</a> () const =0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#14d975fa3221e9951e3db971ff4a47df">add_observer</a> (const <a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">ObserverWeakRef</a> &amp;o)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Informs a <a class="el" href="classStateActionModel.html">StateActionModel</a> that a <a class="el" href="classStateActionModel_1_1Observer.html">StateActionModel::Observer</a> would like to be notified of any changes in the return values of <a class="el" href="classStateActionModel.html#2aa3d4b60f1916ae73ca367960779f5e">reward()</a> or <a class="el" href="classStateActionModel.html#ca92554635438ecfc43efa7d2df3a3b7">effects()</a>.  <a href="#14d975fa3221e9951e3db971ff4a47df"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#f7553825a9dfaf6eda389e8a635900ec">remove_observer</a> (const <a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">ObserverWeakRef</a> &amp;o)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Informs a <a class="el" href="classStateActionModel.html">StateActionModel</a> that a <a class="el" href="classStateActionModel_1_1Observer.html">StateActionModel::Observer</a> would like to stop receiving notifications.  <a href="#f7553825a9dfaf6eda389e8a635900ec"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#f157fb4caecf9f6263481610b30f665e">debug</a> (std::ostream &amp;out) const </td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#0cdd5d1d36ba33d4246e58fc78edbab6">notify_model_observers</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a notification message to all subscribed StateActionModel::Observers.  <a href="#0cdd5d1d36ba33d4246e58fc78edbab6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::vector&lt; <a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">ObserverWeakRef</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel.html#343d596807db0a28bd9ccb495789bff7">m_observers</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStateActionModel_1_1Observer.html">Observer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interface for objects that wish to be notified when a <a class="el" href="classStateActionModel.html">StateActionModel</a> changes its estimation of its state-action's dynamics.  <a href="classStateActionModel_1_1Observer.html#_details">More...</a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Interface for objects that predict the dynamics of a given action at a given state. 
<p>
Formally speaking, such an object represents for a given state s and (possibly abstract) action a the value R(s,a) of the reward function and the distribution over effects P(s,a,-). 
<p>

<p>
Definition at line <a class="el" href="action_8hh-source.html#l00094">94</a> of file <a class="el" href="action_8hh-source.html">action.hh</a>.<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="a52e5afea81f03a73a6cf73a5caf0515"></a><!-- doxytag: member="StateActionModel::ObserverRef" ref="a52e5afea81f03a73a6cf73a5caf0515" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::shared_ptr&lt;<a class="el" href="classStateActionModel_1_1Observer.html">Observer</a>&gt; <a class="el" href="classStateActionModel.html#a52e5afea81f03a73a6cf73a5caf0515">StateActionModel::ObserverRef</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="action_8hh-source.html#l00108">108</a> of file <a class="el" href="action_8hh-source.html">action.hh</a>.
</div>
</div><p>
<a class="anchor" name="df617a2261a8480440386e25b09d296c"></a><!-- doxytag: member="StateActionModel::ObserverWeakRef" ref="df617a2261a8480440386e25b09d296c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::weak_ptr&lt;<a class="el" href="classStateActionModel_1_1Observer.html">Observer</a>&gt; <a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">StateActionModel::ObserverWeakRef</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="action_8hh-source.html#l00109">109</a> of file <a class="el" href="action_8hh-source.html">action.hh</a>.
</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="288e336083b8428aae70e0e699e22d75"></a><!-- doxytag: member="StateActionModel::~StateActionModel" ref="288e336083b8428aae70e0e699e22d75" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StateActionModel::~StateActionModel           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="action_8cc-source.html#l00054">54</a> of file <a class="el" href="action_8cc-source.html">action.cc</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="14d975fa3221e9951e3db971ff4a47df"></a><!-- doxytag: member="StateActionModel::add_observer" ref="14d975fa3221e9951e3db971ff4a47df" args="(const ObserverWeakRef &amp;o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateActionModel::add_observer           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">ObserverWeakRef</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>o</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Informs a <a class="el" href="classStateActionModel.html">StateActionModel</a> that a <a class="el" href="classStateActionModel_1_1Observer.html">StateActionModel::Observer</a> would like to be notified of any changes in the return values of <a class="el" href="classStateActionModel.html#2aa3d4b60f1916ae73ca367960779f5e">reward()</a> or <a class="el" href="classStateActionModel.html#ca92554635438ecfc43efa7d2df3a3b7">effects()</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>The observer to subscribe. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="action_8cc-source.html#l00057">57</a> of file <a class="el" href="action_8cc-source.html">action.cc</a>.
<p>
References <a class="el" href="action_8hh-source.html#l00148">m_observers</a>, and <a class="el" href="state_8hh-source.html#l00259">vector_set_insert()</a>.
</div>
</div><p>
<a class="anchor" name="f157fb4caecf9f6263481610b30f665e"></a><!-- doxytag: member="StateActionModel::debug" ref="f157fb4caecf9f6263481610b30f665e" args="(std::ostream &amp;out) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateActionModel::debug           </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>out</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Reimplemented in <a class="el" href="classPrimitiveTask_1_1PrimitiveStateActionModel.html#12564154f0a1a189ce3abb2a9fc12688">PrimitiveTask::PrimitiveStateActionModel</a>.
<p>
Definition at line <a class="el" href="action_8cc-source.html#l00067">67</a> of file <a class="el" href="action_8cc-source.html">action.cc</a>.
<p>
References <a class="el" href="classStateActionModel.html#ca92554635438ecfc43efa7d2df3a3b7">effects()</a>, <a class="el" href="classStateActionModel.html#2aa3d4b60f1916ae73ca367960779f5e">reward()</a>, and <a class="el" href="classStateActionModel.html#20c477242feaa878c48e16f11712773a">state()</a>.
</div>
</div><p>
<a class="anchor" name="ca92554635438ecfc43efa7d2df3a3b7"></a><!-- doxytag: member="StateActionModel::effects" ref="ca92554635438ecfc43efa7d2df3a3b7" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="action_8hh.html#626c25d58262ddb00339679776c6b8d9">EffectDistribution</a>&amp; StateActionModel::effects           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The predicted distribution of effects for the modeled state and action. Note that the pointers in this data structure are only guaranteed to remain valid while they exist in the data structure. The caller may subscribe to this <a class="el" href="classStateActionModel.html">StateActionModel</a> to be notified about changes to this structure. </dd></dl>

<p>
Implemented in <a class="el" href="classPredictor_1_1State.html#a881b4bf27aad0b60c3f12e6e5ef34fb">Predictor::State</a>, and <a class="el" href="classPrimitiveTask_1_1PrimitiveStateActionModel.html#df76274f893d1db3a13b60ec375f5445">PrimitiveTask::PrimitiveStateActionModel</a>.
<p>
Referenced by <a class="el" href="action_8cc-source.html#l00067">debug()</a>.
</div>
</div><p>
<a class="anchor" name="0cdd5d1d36ba33d4246e58fc78edbab6"></a><!-- doxytag: member="StateActionModel::notify_model_observers" ref="0cdd5d1d36ba33d4246e58fc78edbab6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateActionModel::notify_model_observers           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a notification message to all subscribed StateActionModel::Observers. 
<p>

<p>
Definition at line <a class="el" href="action_8cc-source.html#l00080">80</a> of file <a class="el" href="action_8cc-source.html">action.cc</a>.
<p>
References <a class="el" href="action_8hh-source.html#l00148">m_observers</a>.
<p>
Referenced by <a class="el" href="primitive_8cc-source.html#l00210">PrimitiveTask::PrimitiveStateActionModel::compute_model()</a>, and <a class="el" href="predictor_8cc-source.html#l00378">Predictor::State::propagate_model_change()</a>.
</div>
</div><p>
<a class="anchor" name="f7553825a9dfaf6eda389e8a635900ec"></a><!-- doxytag: member="StateActionModel::remove_observer" ref="f7553825a9dfaf6eda389e8a635900ec" args="(const ObserverWeakRef &amp;o)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateActionModel::remove_observer           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">ObserverWeakRef</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>o</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Informs a <a class="el" href="classStateActionModel.html">StateActionModel</a> that a <a class="el" href="classStateActionModel_1_1Observer.html">StateActionModel::Observer</a> would like to stop receiving notifications. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>o</em>&nbsp;</td><td>The <a class="el" href="classStateActionModel_1_1Observer.html">StateActionModel::Observer</a> that would like to stop receiving notifications messages. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="action_8cc-source.html#l00062">62</a> of file <a class="el" href="action_8cc-source.html">action.cc</a>.
<p>
References <a class="el" href="action_8hh-source.html#l00148">m_observers</a>, and <a class="el" href="state_8hh-source.html#l00291">vector_set_erase()</a>.
</div>
</div><p>
<a class="anchor" name="2aa3d4b60f1916ae73ca367960779f5e"></a><!-- doxytag: member="StateActionModel::reward" ref="2aa3d4b60f1916ae73ca367960779f5e" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual double StateActionModel::reward           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The estimated expected reward for executing the modeled action at the modeled state. </dd></dl>

<p>
Implemented in <a class="el" href="classPredictor_1_1State.html#e1cfea7f6b10f4367335accb46f76a64">Predictor::State</a>, and <a class="el" href="classPrimitiveTask_1_1PrimitiveStateActionModel.html#fbeabcb41bea5f7d77b13be12bfa92dc">PrimitiveTask::PrimitiveStateActionModel</a>.
<p>
Referenced by <a class="el" href="action_8cc-source.html#l00067">debug()</a>.
</div>
</div><p>
<a class="anchor" name="20c477242feaa878c48e16f11712773a"></a><!-- doxytag: member="StateActionModel::state" ref="20c477242feaa878c48e16f11712773a" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a>&amp; StateActionModel::state           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The state that this <a class="el" href="classStateActionModel.html">StateActionModel</a> models. </dd></dl>

<p>
Implemented in <a class="el" href="classPredictor_1_1State.html#71506d9728085332bd1ed28efab5c6bc">Predictor::State</a>, and <a class="el" href="classPrimitiveTask_1_1PrimitiveStateActionModel.html#7c09b691541d63a89a279c27408c3a9c">PrimitiveTask::PrimitiveStateActionModel</a>.
<p>
Referenced by <a class="el" href="action_8cc-source.html#l00067">debug()</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="343d596807db0a28bd9ccb495789bff7"></a><!-- doxytag: member="StateActionModel::m_observers" ref="343d596807db0a28bd9ccb495789bff7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classStateActionModel.html#df617a2261a8480440386e25b09d296c">ObserverWeakRef</a>&gt; <a class="el" href="classStateActionModel.html#343d596807db0a28bd9ccb495789bff7">StateActionModel::m_observers</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="action_8hh-source.html#l00148">148</a> of file <a class="el" href="action_8hh-source.html">action.hh</a>.
<p>
Referenced by <a class="el" href="action_8cc-source.html#l00057">add_observer()</a>, <a class="el" href="action_8cc-source.html#l00080">notify_model_observers()</a>, and <a class="el" href="action_8cc-source.html#l00062">remove_observer()</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="action_8hh-source.html">action.hh</a><li><a class="el" href="action_8cc-source.html">action.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Dec 1 14:50:57 2010 for Fitted R-MAXQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
