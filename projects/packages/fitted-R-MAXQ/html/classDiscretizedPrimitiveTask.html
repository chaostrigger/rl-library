<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Fitted R-MAXQ: DiscretizedPrimitiveTask Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>DiscretizedPrimitiveTask Class Reference</h1><!-- doxytag: class="DiscretizedPrimitiveTask" --><!-- doxytag: inherits="PrimitiveTask" -->This specialization of <a class="el" href="classPrimitiveTask.html">PrimitiveTask</a> optimizes the combination of <a class="el" href="classPrimitiveTask.html">PrimitiveTask</a> with a dynamic (model) discretization averager that approximates a given point with a uniform distribution over the basis states added to the points grid cell.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="primitive_8hh-source.html">primitive.hh</a>&gt;</code>
<p>
<p>Inheritance diagram for DiscretizedPrimitiveTask:
<p><center><img src="classDiscretizedPrimitiveTask.png" usemap="#DiscretizedPrimitiveTask_map" border="0" alt=""></center>
<map name="DiscretizedPrimitiveTask_map">
<area href="classPrimitiveTask.html" alt="PrimitiveTask" shape="rect" coords="0,56,149,80">
<area href="classTask.html" alt="Task" shape="rect" coords="0,0,149,24">
</map>
<a href="classDiscretizedPrimitiveTask-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscretizedPrimitiveTask.html#887dda2f7cd64953b43dd7d6dc6d66bb">~DiscretizedPrimitiveTask</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscretizedPrimitiveTask.html#08c37b90d5a0ddf03e31f50049777ca7">update</a> (const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;s, double r, const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;succ)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Incorporates a nonterminal experience to update the model.  <a href="#08c37b90d5a0ddf03e31f50049777ca7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscretizedPrimitiveTask.html#6b9c663d54448554bb2b29561140f6a8">update</a> (const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;s, double r)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Incorporates a terminal experience to update the model.  <a href="#6b9c663d54448554bb2b29561140f6a8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="action_8hh.html#ebbdc64dd0e954309f7d84b47a9734ff">TaskRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscretizedPrimitiveTask.html#218ee1ec3c9819390c210e3f487068c6">create</a> (const std::string &amp;name, int primitive, unsigned threshold, double <a class="el" href="Rmaxq-Taxi_8cc.html#596dacebb8b2d3b98195ada0182442d3">maxval</a>, int <a class="el" href="Rmax_8cc.html#c44fd459d598de1da21febbbaf6cea22">resolutionfactor</a>, const <a class="el" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;scale, const <a class="el" href="state_8hh.html#1692c157ceef0c431bb4b5060e55e706">StatePredicateRef</a> &amp;precondition)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new <a class="el" href="classDiscretizedPrimitiveTask.html">DiscretizedPrimitiveTask</a> object, initialized with no data.  <a href="#218ee1ec3c9819390c210e3f487068c6"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="averager_8hh.html#9db2ed62c7922adac793f2607dcc9ae2">AveragerRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscretizedPrimitiveTask.html#d8ee5c0604a023f24e328a050dd1601d">averager</a> () const </td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscretizedPrimitiveTask.html#13be47f2a33237d8f612612cf17440e4">DiscretizedPrimitiveTask</a> (const std::string &amp;name, int primitive, unsigned threshold, double <a class="el" href="Rmaxq-Taxi_8cc.html#596dacebb8b2d3b98195ada0182442d3">maxval</a>, int <a class="el" href="Rmax_8cc.html#c44fd459d598de1da21febbbaf6cea22">resolutionfactor</a>, const <a class="el" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;scale, const <a class="el" href="state_8hh.html#1692c157ceef0c431bb4b5060e55e706">StatePredicateRef</a> &amp;precondition)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="averager_8hh.html#9db2ed62c7922adac793f2607dcc9ae2">AveragerRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDiscretizedPrimitiveTask.html#6fbd9f8e8168468d00e28661be4db5c2">m_discrete_averager</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiscretizedPrimitiveTask_1_1AbsoluteEffectCountsComparator.html">AbsoluteEffectCountsComparator</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This specialization of <a class="el" href="classPrimitiveTask.html">PrimitiveTask</a> optimizes the combination of <a class="el" href="classPrimitiveTask.html">PrimitiveTask</a> with a dynamic (model) discretization averager that approximates a given point with a uniform distribution over the basis states added to the points grid cell. 
<p>
In this case, there is no need to compute this average explicitly. Instead, just bin the data as in most implementations of discretization. 
<p>

<p>
Definition at line <a class="el" href="primitive_8hh-source.html#l00300">300</a> of file <a class="el" href="primitive_8hh-source.html">primitive.hh</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="887dda2f7cd64953b43dd7d6dc6d66bb"></a><!-- doxytag: member="DiscretizedPrimitiveTask::~DiscretizedPrimitiveTask" ref="887dda2f7cd64953b43dd7d6dc6d66bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DiscretizedPrimitiveTask::~DiscretizedPrimitiveTask           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="primitive_8cc-source.html#l00324">324</a> of file <a class="el" href="primitive_8cc-source.html">primitive.cc</a>.
</div>
</div><p>
<a class="anchor" name="13be47f2a33237d8f612612cf17440e4"></a><!-- doxytag: member="DiscretizedPrimitiveTask::DiscretizedPrimitiveTask" ref="13be47f2a33237d8f612612cf17440e4" args="(const std::string &amp;name, int primitive, unsigned threshold, double maxval, int resolutionfactor, const StateVariables &amp;scale, const StatePredicateRef &amp;precondition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DiscretizedPrimitiveTask::DiscretizedPrimitiveTask           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>primitive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>maxval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>resolutionfactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="state_8hh.html#1692c157ceef0c431bb4b5060e55e706">StatePredicateRef</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>precondition</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="primitive_8cc-source.html#l00312">312</a> of file <a class="el" href="primitive_8cc-source.html">primitive.cc</a>.
<p>
Referenced by <a class="el" href="primitive_8cc-source.html#l00295">create()</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d8ee5c0604a023f24e328a050dd1601d"></a><!-- doxytag: member="DiscretizedPrimitiveTask::averager" ref="d8ee5c0604a023f24e328a050dd1601d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="averager_8hh.html#9db2ed62c7922adac793f2607dcc9ae2">AveragerRef</a> DiscretizedPrimitiveTask::averager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Reimplemented from <a class="el" href="classPrimitiveTask.html#37973b035721dad8d8b8fe2c522548ee">PrimitiveTask</a>.
<p>
Definition at line <a class="el" href="primitive_8cc-source.html#l00361">361</a> of file <a class="el" href="primitive_8cc-source.html">primitive.cc</a>.
<p>
References <a class="el" href="primitive_8hh-source.html#l00359">m_discrete_averager</a>.
</div>
</div><p>
<a class="anchor" name="218ee1ec3c9819390c210e3f487068c6"></a><!-- doxytag: member="DiscretizedPrimitiveTask::create" ref="218ee1ec3c9819390c210e3f487068c6" args="(const std::string &amp;name, int primitive, unsigned threshold, double maxval, int resolutionfactor, const StateVariables &amp;scale, const StatePredicateRef &amp;precondition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="action_8hh.html#ebbdc64dd0e954309f7d84b47a9734ff">TaskRef</a> DiscretizedPrimitiveTask::create           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>primitive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>maxval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>resolutionfactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="state_8hh.html#1692c157ceef0c431bb4b5060e55e706">StatePredicateRef</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>precondition</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new <a class="el" href="classDiscretizedPrimitiveTask.html">DiscretizedPrimitiveTask</a> object, initialized with no data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>A unique name for this task. If left empty, the name is generated from the primitive action number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>primitive</em>&nbsp;</td><td>The action primitive, assumed to be an int </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>The amount of data required before turning off optimism at a given query state </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxval</em>&nbsp;</td><td>An upper bound on the value of a state, used as the one-step reward of an insufficiently explored action </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resolutionfactor</em>&nbsp;</td><td>Controls the spacing of the uniform grid used as the basis set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scale</em>&nbsp;</td><td>The weights used to obtain the scaled Euclidean space. Unused dimensions are set to 0 in the basis vectors. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>precondition</em>&nbsp;</td><td>The predicate that determines when this primitive is available </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="primitive_8cc-source.html#l00295">295</a> of file <a class="el" href="primitive_8cc-source.html">primitive.cc</a>.
<p>
References <a class="el" href="primitive_8cc-source.html#l00312">DiscretizedPrimitiveTask()</a>.
<p>
Referenced by <a class="el" href="Rmax-FPWorld_8cc-source.html#l00034">get_task_hierarchy()</a>.
</div>
</div><p>
<a class="anchor" name="6b9c663d54448554bb2b29561140f6a8"></a><!-- doxytag: member="DiscretizedPrimitiveTask::update" ref="6b9c663d54448554bb2b29561140f6a8" args="(const StateVectorRef &amp;s, double r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiscretizedPrimitiveTask::update           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>r</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Incorporates a terminal experience to update the model. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The state at which the primitive action was executed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>The immediate reward obtained </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPrimitiveTask.html#dadb5e4269d027a6a0e7e9785185ccdf">PrimitiveTask</a>.
<p>
Definition at line <a class="el" href="primitive_8cc-source.html#l00351">351</a> of file <a class="el" href="primitive_8cc-source.html">primitive.cc</a>.
<p>
References <a class="el" href="primitive_8hh-source.html#l00236">PrimitiveTask::get_data()</a>, <a class="el" href="primitive_8hh-source.html#l00359">m_discrete_averager</a>, and <a class="el" href="primitive_8cc-source.html#l00138">PrimitiveTask::update()</a>.
</div>
</div><p>
<a class="anchor" name="08c37b90d5a0ddf03e31f50049777ca7"></a><!-- doxytag: member="DiscretizedPrimitiveTask::update" ref="08c37b90d5a0ddf03e31f50049777ca7" args="(const StateVectorRef &amp;s, double r, const StateVectorRef &amp;succ)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DiscretizedPrimitiveTask::update           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>succ</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Incorporates a nonterminal experience to update the model. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The state at which the primitive action was executed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>The immediate reward obtained </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>succ</em>&nbsp;</td><td>The successor state observed </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPrimitiveTask.html#17b52f73561bbb68d3f1753f3d0c14c2">PrimitiveTask</a>.
<p>
Definition at line <a class="el" href="primitive_8cc-source.html#l00328">328</a> of file <a class="el" href="primitive_8cc-source.html">primitive.cc</a>.
<p>
References <a class="el" href="action_8cc-source.html#l00015">AbsoluteEffect::create()</a>, <a class="el" href="primitive_8hh-source.html#l00236">PrimitiveTask::get_data()</a>, <a class="el" href="primitive_8hh-source.html#l00359">m_discrete_averager</a>, <a class="el" href="primitive_8cc-source.html#l00138">PrimitiveTask::update()</a>, and <a class="el" href="state_8hh-source.html#l00259">vector_set_insert()</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="6fbd9f8e8168468d00e28661be4db5c2"></a><!-- doxytag: member="DiscretizedPrimitiveTask::m_discrete_averager" ref="6fbd9f8e8168468d00e28661be4db5c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="averager_8hh.html#9db2ed62c7922adac793f2607dcc9ae2">AveragerRef</a> <a class="el" href="classDiscretizedPrimitiveTask.html#6fbd9f8e8168468d00e28661be4db5c2">DiscretizedPrimitiveTask::m_discrete_averager</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="primitive_8hh-source.html#l00359">359</a> of file <a class="el" href="primitive_8hh-source.html">primitive.hh</a>.
<p>
Referenced by <a class="el" href="primitive_8cc-source.html#l00361">averager()</a>, and <a class="el" href="primitive_8cc-source.html#l00328">update()</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="primitive_8hh-source.html">primitive.hh</a><li><a class="el" href="primitive_8cc-source.html">primitive.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Dec 1 14:50:57 2010 for Fitted R-MAXQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
