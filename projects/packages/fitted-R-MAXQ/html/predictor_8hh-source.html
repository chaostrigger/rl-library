<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Fitted R-MAXQ: predictor.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_f7364f79d8ff301e2fa7be00dc334ae9.html">Agent</a></div>
<h1>predictor.hh</h1><a href="predictor_8hh.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _PREDICTOR_HH_</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _PREDICTOR_HH_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;ext/hash_map&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;set&gt;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include "<a class="code" href="state_8hh.html">state.hh</a>"</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "<a class="code" href="action_8hh.html">action.hh</a>"</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "<a class="code" href="mdp_8hh.html">mdp.hh</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="planner_8hh.html">planner.hh</a>"</span>
<a name="l00016"></a>00016 
<a name="l00017"></a><a class="code" href="predictor_8hh.html#e072e97b8f148851d4ede3d1e0feaa50">00017</a> <span class="keyword">class </span><a class="code" href="classPredictor.html">Predictor</a>;
<a name="l00018"></a>00018 <span class="keyword">typedef</span> boost::shared_ptr&lt;Predictor&gt; <a class="code" href="predictor_8hh.html#e072e97b8f148851d4ede3d1e0feaa50">PredictorRef</a>;
<a name="l00019"></a><a class="code" href="predictor_8hh.html#235824d1ce6dcdac33d228739d3701fe">00019</a> <span class="keyword">typedef</span> boost::weak_ptr&lt;Predictor&gt; <a class="code" href="predictor_8hh.html#235824d1ce6dcdac33d228739d3701fe">PredictorWeakRef</a>;
<a name="l00020"></a>00020 
<a name="l00027"></a><a class="code" href="classPredictor.html">00027</a> <span class="keyword">class </span><a class="code" href="classPredictor.html">Predictor</a> {
<a name="l00028"></a>00028 <span class="keyword">public</span>:
<a name="l00038"></a>00038   <span class="keyword">static</span> <a class="code" href="predictor_8hh.html#e072e97b8f148851d4ede3d1e0feaa50">PredictorRef</a> <a class="code" href="classPredictor.html#d7f304000822c05eca4ef5fbb3dbea9d">create</a>(<span class="keyword">const</span> <a class="code" href="planner_8hh.html#01cc9c4e9e494dc577f27599632a83fe">PlannerRef</a> &amp;planner,
<a name="l00039"></a>00039                              <span class="keyword">const</span> <a class="code" href="state_8hh.html#1692c157ceef0c431bb4b5060e55e706">StatePredicateRef</a> &amp;<a class="code" href="FlagPuddleWorld_8cc.html#1bf97ca9397d1ec9cbb47e9a1d020458">terminalp</a>,
<a name="l00040"></a>00040                              <span class="keywordtype">double</span> gamma,
<a name="l00041"></a>00041                              <span class="keywordtype">double</span> <a class="code" href="FittedRmax-FPWorld_8cc.html#c29df3dcbefa1ce189e5990bde994025">epsilon</a>,
<a name="l00042"></a>00042                              <span class="keyword">const</span> <a class="code" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;<a class="code" href="FittedRmax-FPWorld_8cc.html#23652b995ead539bb1261b69fadc05c1">dimensions</a>);
<a name="l00043"></a>00043 
<a name="l00044"></a>00044   <a class="code" href="classPredictor.html#0342112c4304cda01113cb09ad2dac78">~Predictor</a>();
<a name="l00045"></a>00045 
<a name="l00051"></a>00051   <a class="code" href="action_8hh.html#c3ccf319df0159196b73a6f8cbd0e702">StateActionModelRef</a> <a class="code" href="classPredictor.html#af0fdb8f4fc4f7477a39759170f96026">model</a>(<span class="keyword">const</span> <a class="code" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;s);
<a name="l00052"></a>00052 
<a name="l00056"></a>00056   <span class="keywordtype">void</span> <a class="code" href="classPredictor.html#19d4dbea9ae6d0c219d424213b9822a6">propagate_changes</a>();
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="keyword">protected</span>:
<a name="l00059"></a><a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8">00059</a>   <span class="keyword">enum</span> <a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8">queue_t</a> { <a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8c1fbc20ab54432561795deeb0b617f2f">REWARD</a>, <a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8f09564c8c21dd8b9d9d3e0851dd62788">TRANSITION</a> };
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="classPredictor.html#da35d16e8c2462061c8eb916ca8a5c43">00061</a>   <span class="keyword">class </span><a class="code" href="classPredictor_1_1State.html">State</a>;
<a name="l00062"></a>00062   <span class="keyword">typedef</span> boost::shared_ptr&lt;State&gt; <a class="code" href="classPredictor.html#da35d16e8c2462061c8eb916ca8a5c43">StateRef</a>;
<a name="l00063"></a><a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">00063</a>   <span class="keyword">typedef</span> boost::weak_ptr&lt;State&gt; <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a>;
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="classPredictor.html#ae5e26d0e41093abb1083ae950c0fed4">00065</a>   <span class="keyword">class </span><a class="code" href="classPredictor_1_1StatePrediction.html">StatePrediction</a>;
<a name="l00066"></a>00066   <span class="keyword">typedef</span> boost::shared_ptr&lt;StatePrediction&gt; <a class="code" href="classPredictor.html#ae5e26d0e41093abb1083ae950c0fed4">StatePredictionRef</a>;
<a name="l00067"></a><a class="code" href="classPredictor.html#3e9ff0a3566ca9084a27f1e2cba731af">00067</a>   <span class="keyword">typedef</span> boost::weak_ptr&lt;StatePrediction&gt; <a class="code" href="classPredictor.html#3e9ff0a3566ca9084a27f1e2cba731af">StatePredictionWeakRef</a>;
<a name="l00068"></a>00068 
<a name="l00071"></a><a class="code" href="classPredictor_1_1StatePrediction.html">00071</a>   <span class="keyword">class </span><a class="code" href="classPredictor_1_1StatePrediction.html">StatePrediction</a> {
<a name="l00072"></a>00072   <span class="keyword">public</span>:
<a name="l00073"></a>00073     <span class="keyword">virtual</span> <a class="code" href="classPredictor_1_1StatePrediction.html#e044f968f6b77b1b4e63cc1698d2718a">~StatePrediction</a>();
<a name="l00074"></a>00074 
<a name="l00078"></a>00078     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classPredictor_1_1StatePrediction.html#662fa0c262c570f9fa23d4e3b0f80352">predict_return</a>(<span class="keywordtype">double</span> p) <span class="keyword">const </span>= 0;
<a name="l00079"></a>00079 
<a name="l00087"></a>00087     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1StatePrediction.html#67d974a9e3d267bc0815b4b844c3eac3">predict_terminals</a>(<a class="code" href="action_8hh.html#626c25d58262ddb00339679776c6b8d9">EffectDistribution</a> &amp;term,
<a name="l00088"></a>00088                                    <span class="keywordtype">double</span> p) <span class="keyword">const </span>= 0;
<a name="l00089"></a>00089 
<a name="l00097"></a>00097     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1StatePrediction.html#03a66336599e82cd91b6e7aef21ac31b">add_predecessor</a>(<span class="keyword">const</span> <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> &amp;pred,
<a name="l00098"></a>00098                                  <span class="keywordtype">double</span> probability) = 0;
<a name="l00099"></a>00099 
<a name="l00105"></a>00105     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1StatePrediction.html#dbc24053afc429cd9b3709a781d4799e">remove_predecessor</a>(<span class="keyword">const</span> <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> &amp;pred) = 0;
<a name="l00106"></a>00106   };
<a name="l00107"></a>00107 
<a name="l00109"></a><a class="code" href="classPredictor_1_1TerminalStatePrediction.html">00109</a>   <span class="keyword">class </span><a class="code" href="classPredictor_1_1TerminalStatePrediction.html">TerminalStatePrediction</a>: <span class="keyword">public</span> <a class="code" href="classPredictor_1_1StatePrediction.html">StatePrediction</a> {
<a name="l00110"></a>00110   <span class="keyword">public</span>:
<a name="l00115"></a>00115     <span class="keyword">static</span> <a class="code" href="classPredictor.html#ae5e26d0e41093abb1083ae950c0fed4">StatePredictionRef</a> <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#4405a680e288bab41cfe057b9276f528">create</a>(<span class="keyword">const</span> <a class="code" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;succ,
<a name="l00116"></a>00116                                      <span class="keyword">const</span> <a class="code" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;dimensions,
<a name="l00117"></a>00117                                      <a class="code" href="classPredictor.html#3e9ff0a3566ca9084a27f1e2cba731af">StatePredictionWeakRef</a> &amp;ref);
<a name="l00118"></a>00118     
<a name="l00119"></a>00119     <span class="keyword">virtual</span> <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#3406a9ace704df785792a4bafc9e7c2a">~TerminalStatePrediction</a>();
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#7e022039c23a99ae6eb5710b1aa566f1">predict_return</a>(<span class="keywordtype">double</span> p) <span class="keyword">const</span>;
<a name="l00122"></a>00122     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#8b5c9edf1ddddfc737e849232fafbdcd">predict_terminals</a>(<a class="code" href="action_8hh.html#626c25d58262ddb00339679776c6b8d9">EffectDistribution</a> &amp;term, <span class="keywordtype">double</span> p) <span class="keyword">const</span>;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#890f32171f40d50eb555f5a33d683f5c">add_predecessor</a>(<span class="keyword">const</span> <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> &amp;pred,
<a name="l00125"></a>00125                                  <span class="keywordtype">double</span> probability);
<a name="l00126"></a>00126     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#1acf3849724a6e610ab49a10ba9c0012">remove_predecessor</a>(<span class="keyword">const</span> <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> &amp;pred);
<a name="l00127"></a>00127 
<a name="l00128"></a>00128   <span class="keyword">private</span>:
<a name="l00129"></a>00129     <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#db7ed789cbe95053201cacd29fe44ca9">TerminalStatePrediction</a>(<span class="keyword">const</span> <a class="code" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;succ,
<a name="l00130"></a>00130                             <span class="keyword">const</span> <a class="code" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;dimensions);
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classPredictor_1_1TerminalStatePrediction.html#126f8884eb840c84ee1019066fcbd19a">00132</a>     <a class="code" href="action_8hh.html#237381de75a5275499cae5dba925ba48">AbsoluteEffectRef</a> <a class="code" href="classPredictor_1_1TerminalStatePrediction.html#126f8884eb840c84ee1019066fcbd19a">m_terminal</a>;
<a name="l00133"></a>00133   };
<a name="l00134"></a>00134 
<a name="l00141"></a><a class="code" href="classPredictor_1_1State.html">00141</a>   <span class="keyword">class </span><a class="code" href="classPredictor_1_1State.html">State</a>: <span class="keyword">public</span> <a class="code" href="classStateActionModel.html">StateActionModel</a>,
<a name="l00142"></a>00142                <span class="keyword">public</span> <a class="code" href="classPredictor_1_1StatePrediction.html">StatePrediction</a>,
<a name="l00143"></a>00143                <span class="keyword">public</span> <a class="code" href="classMDPState.html">MDPState</a>::Observer,
<a name="l00144"></a>00144                <span class="keyword">public</span> <a class="code" href="classStatePolicy.html">StatePolicy</a>::Observer {
<a name="l00145"></a>00145   <span class="keyword">public</span>:
<a name="l00158"></a>00158     <span class="keyword">static</span> <a class="code" href="classPredictor.html#da35d16e8c2462061c8eb916ca8a5c43">StateRef</a> <a class="code" href="classPredictor_1_1State.html#6a0ab629bc2f9adf0e4d631fd31d2b6a">create</a>(<span class="keyword">const</span> <a class="code" href="predictor_8hh.html#e072e97b8f148851d4ede3d1e0feaa50">PredictorRef</a> &amp;predictor,
<a name="l00159"></a>00159                            <span class="keyword">const</span> <a class="code" href="planner_8hh.html#cb9d38a584b41b38956846da565a7dd9">ModelBasedStatePolicyRef</a> &amp;policy,
<a name="l00160"></a>00160                            <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> &amp;ref,
<a name="l00161"></a>00161                            <a class="code" href="classPredictor.html#3e9ff0a3566ca9084a27f1e2cba731af">StatePredictionWeakRef</a> *ptr);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     <span class="keyword">virtual</span> <a class="code" href="classPredictor_1_1State.html#1dbdf3a0fd5899eb8ea3b16cdda0e3ae">~State</a>();
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;<a class="code" href="classPredictor_1_1State.html#71506d9728085332bd1ed28efab5c6bc">state</a>() <span class="keyword">const</span>;
<a name="l00166"></a>00166     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classPredictor_1_1State.html#e1cfea7f6b10f4367335accb46f76a64">reward</a>() <span class="keyword">const</span>;
<a name="l00167"></a>00167     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="action_8hh.html#626c25d58262ddb00339679776c6b8d9">EffectDistribution</a> &amp;<a class="code" href="classPredictor_1_1State.html#a881b4bf27aad0b60c3f12e6e5ef34fb">effects</a>() <span class="keyword">const</span>;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classPredictor_1_1State.html#8e9e604f93d4e3508ef4f2999f5370c6">predict_return</a>(<span class="keywordtype">double</span> p) <span class="keyword">const</span>;
<a name="l00170"></a>00170     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#a42b78b09ebcdfd28ca05b991d31b084">predict_terminals</a>(<a class="code" href="action_8hh.html#626c25d58262ddb00339679776c6b8d9">EffectDistribution</a> &amp;term, <span class="keywordtype">double</span> p) <span class="keyword">const</span>;
<a name="l00171"></a>00171     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#0f1597116d00df3e96790f937acce03c">add_predecessor</a>(<span class="keyword">const</span> <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> &amp;pred,
<a name="l00172"></a>00172                                  <span class="keywordtype">double</span> probability);
<a name="l00173"></a>00173     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#e129e85a0a7511d6f6c4e302caeb68b2">remove_predecessor</a>(<span class="keyword">const</span> <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> &amp;pred);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#0238c83bdabef0466982bd4c76f6e45a">observe_MDP_change</a>(<span class="keyword">const</span> <a class="code" href="action_8hh.html#ebbdc64dd0e954309f7d84b47a9734ff">TaskRef</a> &amp;a);
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#ee1e9a270db3c052e52c4bdfbf1ac141">observe_policy_change</a>();
<a name="l00178"></a>00178 
<a name="l00185"></a>00185     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#f37aad828ff67b55b173537abc5e2157">initialize</a>();
<a name="l00186"></a>00186 
<a name="l00189"></a>00189     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#f2a07467925aeb04df5561e0a16697a7">propagate_mdp_change</a>();
<a name="l00190"></a>00190 
<a name="l00194"></a>00194     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#d9dcf9d0540d9003949a389ab7b96329">propagate_reward_change</a>();
<a name="l00195"></a>00195 
<a name="l00199"></a>00199     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#1032ef41d2f8c738641a5e25bba36186">propagate_transitions_change</a>();
<a name="l00200"></a>00200 
<a name="l00203"></a>00203     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#c023c12fdcaec38ffe095bdf7708ebb2">propagate_model_change</a>();
<a name="l00204"></a>00204 
<a name="l00210"></a><a class="code" href="classPredictor_1_1State.html#3a2d467b8473909ee773769bd02469fa">00210</a>     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#3a2d467b8473909ee773769bd02469fa">zero_bound</a>(<a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8">queue_t</a> idx) {
<a name="l00211"></a>00211       <a class="code" href="classPredictor_1_1State.html#7c42ab45048836e92adbc75565358481">m_error_bounds</a>[idx] = 0.0;
<a name="l00212"></a>00212       <a class="code" href="classPredictor_1_1State.html#357feed13f746c8ce1b71c0ea36d9988">dequeue</a>(idx);
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215   <span class="keyword">protected</span>:
<a name="l00221"></a>00221     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#da5a41b3acc8fae4a815d7347a4f2346">increase_bound</a>(<a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8">queue_t</a> idx, <span class="keywordtype">double</span> increase);
<a name="l00222"></a>00222 
<a name="l00228"></a>00228     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#ec326be80b7026a24475101ea789f38a">heapify</a>(<a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8">queue_t</a> idx);
<a name="l00229"></a>00229 
<a name="l00234"></a>00234     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#ab92ed10b7d68344e82823e2e84c2290">insert_heapify</a>(<a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8">queue_t</a> idx);
<a name="l00235"></a>00235 
<a name="l00239"></a>00239     <span class="keywordtype">void</span> <a class="code" href="classPredictor_1_1State.html#357feed13f746c8ce1b71c0ea36d9988">dequeue</a>(<a class="code" href="classPredictor.html#2d35faaf58a43ec64c08a8444b6827a8">queue_t</a> idx);
<a name="l00240"></a>00240 
<a name="l00241"></a>00241   <span class="keyword">private</span>:
<a name="l00242"></a>00242     <a class="code" href="classPredictor_1_1State.html#6509bb238af3da12276ab339c03a3956">State</a>(<span class="keyword">const</span> <a class="code" href="predictor_8hh.html#e072e97b8f148851d4ede3d1e0feaa50">PredictorRef</a> &amp;predictor,
<a name="l00243"></a>00243           <span class="keyword">const</span> <a class="code" href="planner_8hh.html#cb9d38a584b41b38956846da565a7dd9">ModelBasedStatePolicyRef</a> &amp;policy);
<a name="l00244"></a>00244     
<a name="l00245"></a><a class="code" href="classPredictor_1_1State.html#4e36e087a065d9bd116cdfd230c3f9fe">00245</a>     <span class="keyword">const</span> <a class="code" href="predictor_8hh.html#e072e97b8f148851d4ede3d1e0feaa50">PredictorRef</a> <a class="code" href="classPredictor_1_1State.html#4e36e087a065d9bd116cdfd230c3f9fe">m_predictor</a>;
<a name="l00246"></a><a class="code" href="classPredictor_1_1State.html#199dd1caa138af76957aa84a6cdf56fc">00246</a>     <span class="keyword">const</span> <a class="code" href="mdp_8hh.html#571644572b98c524f1a5bf9db2c62dcd">MDPStateRef</a> <a class="code" href="classPredictor_1_1State.html#199dd1caa138af76957aa84a6cdf56fc">m_mdp_state</a>;
<a name="l00247"></a><a class="code" href="classPredictor_1_1State.html#b84254376cb63883fef48d829ebd7006">00247</a>     <span class="keyword">const</span> <a class="code" href="planner_8hh.html#cb9d38a584b41b38956846da565a7dd9">ModelBasedStatePolicyRef</a> <a class="code" href="classPredictor_1_1State.html#b84254376cb63883fef48d829ebd7006">m_policy</a>;
<a name="l00248"></a>00248  <span class="comment">// XXX only safe if stable subtask set</span>
<a name="l00252"></a>00252     std::vector&lt;std::pair&lt;TaskRef, MDPStateActionRef&gt; &gt;::const_iterator
<a name="l00253"></a><a class="code" href="classPredictor_1_1State.html#f2eae0b0d8d557c531b769295977d964">00253</a>     <a class="code" href="classPredictor_1_1State.html#f2eae0b0d8d557c531b769295977d964">m_action</a>;
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="classPredictor_1_1State.html#b87fcff84cc216cfccec5c9155a56306">00255</a>     <span class="keyword">typedef</span> std::pair&lt;StatePredictionRef, double&gt; <a class="code" href="classPredictor_1_1State.html#b87fcff84cc216cfccec5c9155a56306">StatePredictionProbability</a>;
<a name="l00256"></a>00256     <span class="keyword">typedef</span> std::vector&lt;std::pair&lt;StateVectorRef, StatePredictionProbability&gt; &gt;
<a name="l00257"></a><a class="code" href="classPredictor_1_1State.html#9b9d89defc6c559d67a392efec6e8896">00257</a>     <a class="code" href="classPredictor_1_1State.html#9b9d89defc6c559d67a392efec6e8896">SuccessorsContainer</a>;
<a name="l00258"></a>00258 
<a name="l00265"></a><a class="code" href="classPredictor_1_1State.html#45d89594257dd921b3bdf4a667d37d6e">00265</a>     <a class="code" href="classPredictor_1_1State.html#9b9d89defc6c559d67a392efec6e8896">SuccessorsContainer</a> <a class="code" href="classPredictor_1_1State.html#45d89594257dd921b3bdf4a667d37d6e">m_successors</a>;
<a name="l00266"></a>00266 
<a name="l00270"></a><a class="code" href="classPredictor_1_1State.html#985bc79bc4f1dd516cd1b40dfc2dd9cf">00270</a>     std::vector&lt;std::pair&lt;StateWeakRef, double&gt; &gt; <a class="code" href="classPredictor_1_1State.html#985bc79bc4f1dd516cd1b40dfc2dd9cf">m_predecessors</a>;
<a name="l00271"></a>00271 
<a name="l00272"></a><a class="code" href="classPredictor_1_1State.html#07955309992493d6df7f8b0963ec5c12">00272</a>     <span class="keywordtype">double</span> <a class="code" href="classPredictor_1_1State.html#07955309992493d6df7f8b0963ec5c12">m_r</a>;
<a name="l00273"></a><a class="code" href="classPredictor_1_1State.html#c0badff98c815106926a51a07db36304">00273</a>     <a class="code" href="action_8hh.html#626c25d58262ddb00339679776c6b8d9">EffectDistribution</a> <a class="code" href="classPredictor_1_1State.html#c0badff98c815106926a51a07db36304">m_effect_map</a>;
<a name="l00274"></a>00274 
<a name="l00275"></a><a class="code" href="classPredictor_1_1State.html#7c42ab45048836e92adbc75565358481">00275</a>     <span class="keywordtype">double</span> <a class="code" href="classPredictor_1_1State.html#7c42ab45048836e92adbc75565358481">m_error_bounds</a>[2];
<a name="l00276"></a><a class="code" href="classPredictor_1_1State.html#b69b29ca0aa14047269b4be06ef239e5">00276</a>     <span class="keywordtype">int</span> <a class="code" href="classPredictor_1_1State.html#b69b29ca0aa14047269b4be06ef239e5">m_heap_indices</a>[2];
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="classPredictor_1_1State.html#826ca6fbc3a472a0fc137117832c367e">00278</a>     <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a> <a class="code" href="classPredictor_1_1State.html#826ca6fbc3a472a0fc137117832c367e">m_this</a>;
<a name="l00279"></a>00279   };
<a name="l00280"></a>00280   
<a name="l00281"></a><a class="code" href="classPredictor.html#7edbf9e31116a21e4e18cd2dd004ae63">00281</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classPredictor_1_1State.html">State</a>;
<a name="l00282"></a>00282   
<a name="l00290"></a>00290   <a class="code" href="classPredictor.html#da35d16e8c2462061c8eb916ca8a5c43">StateRef</a> <a class="code" href="classPredictor.html#711c8186cfb1012850a54af1ed375377">prediction</a>(<span class="keyword">const</span> <a class="code" href="planner_8hh.html#cb9d38a584b41b38956846da565a7dd9">ModelBasedStatePolicyRef</a> &amp;pi_s,
<a name="l00291"></a>00291                       <a class="code" href="classPredictor.html#3e9ff0a3566ca9084a27f1e2cba731af">StatePredictionWeakRef</a> *ptr);
<a name="l00292"></a>00292 
<a name="l00295"></a>00295   <a class="code" href="classPredictor.html#ae5e26d0e41093abb1083ae950c0fed4">StatePredictionRef</a> <a class="code" href="classPredictor.html#711c8186cfb1012850a54af1ed375377">prediction</a>(<span class="keyword">const</span> <a class="code" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a> &amp;s);
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 <span class="keyword">private</span>:
<a name="l00298"></a>00298   <a class="code" href="classPredictor.html#2d96e36e1830a0a7d528fb54f1f06779">Predictor</a>(<span class="keyword">const</span> <a class="code" href="planner_8hh.html#01cc9c4e9e494dc577f27599632a83fe">PlannerRef</a> &amp;planner,
<a name="l00299"></a>00299             <span class="keyword">const</span> <a class="code" href="state_8hh.html#1692c157ceef0c431bb4b5060e55e706">StatePredicateRef</a> &amp;terminalp,
<a name="l00300"></a>00300             <span class="keywordtype">double</span> gamma,
<a name="l00301"></a>00301             <span class="keywordtype">double</span> epsilon,
<a name="l00302"></a>00302             <span class="keyword">const</span> <a class="code" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> &amp;dimensions);
<a name="l00303"></a>00303   
<a name="l00304"></a><a class="code" href="classPredictor.html#906a45cb77b7a29e119e32beecf4956f">00304</a>   <span class="keyword">const</span> <a class="code" href="planner_8hh.html#01cc9c4e9e494dc577f27599632a83fe">PlannerRef</a> <a class="code" href="classPredictor.html#906a45cb77b7a29e119e32beecf4956f">m_planner</a>;
<a name="l00305"></a><a class="code" href="classPredictor.html#fff04d5fa870f16988e9475657d89917">00305</a>   <span class="keyword">const</span> <a class="code" href="state_8hh.html#1692c157ceef0c431bb4b5060e55e706">StatePredicateRef</a> <a class="code" href="classPredictor.html#fff04d5fa870f16988e9475657d89917">m_terminalp</a>;
<a name="l00306"></a><a class="code" href="classPredictor.html#48a3a40b4e48cb0dea0432dd8ac7ea96">00306</a>   <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classPredictor.html#48a3a40b4e48cb0dea0432dd8ac7ea96">m_gamma</a>;
<a name="l00307"></a><a class="code" href="classPredictor.html#aeae022864a0d6eb2773878352d0104a">00307</a>   <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classPredictor.html#aeae022864a0d6eb2773878352d0104a">m_epsilon</a>;
<a name="l00308"></a><a class="code" href="classPredictor.html#d5b398a7a16ddffa5efc33e7ae8c90aa">00308</a>   <span class="keyword">const</span> <a class="code" href="state_8hh.html#32ae06ef538422e6aa7ddbb1572cfddd">StateVariables</a> <a class="code" href="classPredictor.html#d5b398a7a16ddffa5efc33e7ae8c90aa">m_dimensions</a>;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310   <span class="keyword">typedef</span> __gnu_cxx::hash_map&lt;<a class="code" href="state_8hh.html#4b1eec1dbb253fd12007b9f7bb90ce93">StateVectorRef</a>,
<a name="l00311"></a>00311                               <a class="code" href="classPredictor.html#d223326fce024fad5e4f128ad96c2ec0">StateWeakRef</a>,
<a name="l00312"></a><a class="code" href="classPredictor.html#e5b39647afead9c4ede2a03ed9838319">00312</a>                               <a class="code" href="structStateHasher.html">StateHasher</a>&gt; <a class="code" href="classPredictor.html#e5b39647afead9c4ede2a03ed9838319">PredictionsContainer</a>;
<a name="l00313"></a>00313 
<a name="l00316"></a><a class="code" href="classPredictor.html#c799d161b0b8bc8eb43e76621359d32f">00316</a>   <a class="code" href="classPredictor.html#e5b39647afead9c4ede2a03ed9838319">PredictionsContainer</a> <a class="code" href="classPredictor.html#c799d161b0b8bc8eb43e76621359d32f">m_predictions</a>;
<a name="l00317"></a>00317 
<a name="l00320"></a>00320   __gnu_cxx::hash_map&lt;StateVectorRef, StatePredictionWeakRef, StateHasher&gt;
<a name="l00321"></a><a class="code" href="classPredictor.html#c026190b4d6b94a15b51e3a1801b1905">00321</a>   <a class="code" href="classPredictor.html#c026190b4d6b94a15b51e3a1801b1905">m_succ_predictions</a>;
<a name="l00322"></a>00322 
<a name="l00323"></a><a class="code" href="classPredictor.html#54fccf14e49ca88cc2788ccc40fa10fe">00323</a>   std::set&lt;StateWeakRef&gt; <a class="code" href="classPredictor.html#54fccf14e49ca88cc2788ccc40fa10fe">m_inbox</a>;
<a name="l00324"></a><a class="code" href="classPredictor.html#fa05eac330f74cd342e5d92553c6c984">00324</a>   std::vector&lt;StateRef&gt; <a class="code" href="classPredictor.html#fa05eac330f74cd342e5d92553c6c984">m_pqueues</a>[2];
<a name="l00325"></a>00325 
<a name="l00326"></a><a class="code" href="classPredictor.html#3ca4f0b42a4ec936af01b9888a37787e">00326</a>   <a class="code" href="predictor_8hh.html#235824d1ce6dcdac33d228739d3701fe">PredictorWeakRef</a> <a class="code" href="classPredictor.html#3ca4f0b42a4ec936af01b9888a37787e">m_this</a>;
<a name="l00327"></a>00327 };
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Dec 1 14:50:56 2010 for Fitted R-MAXQ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
