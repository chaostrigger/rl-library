<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a common build-file to support building of agents, experiments, and environments in RL-Library -->

<!-- This script will believe it is wherever you imported it from.  So, if you import it from environments/mountainCar then to access system you need to tack on ../../system
We'll try and rely on minimal variables from above.

- rl.library.system.directory : relative path from the importing project to here, WITHOUT the trailing slash, so like ../../system

-->

<project basedir=".."  default="print-imports" name="rl-library-common">
<dirname property="imported.basedir" file="${ant.file.imported}"/>
<property name="rlvizlib.jar" value="${rl.library.system.directory}/libs/rl-viz/RLVizLib.jar" />
<property name="env.dist.dir"   value="${rl.library.system.directory}/dist/envJars"/>
<property name="env.viz.dist.dir"   value="${rl.library.system.directory}/dist/envVizJars"/>
<property name="agent.dist.dir"   value="${rl.library.system.directory}/dist/agentJars"/>
<property name="agent.viz.dist.dir"   value="${rl.library.system.directory}/dist/agentVizJars"/>
<path id="rlvizlib.classpath" location="${rlvizlib.jar}"/>


<taskdef resource="net/sf/antcontrib/antlib.xml">
  <classpath>
    <pathelement location="${rl.library.system.directory}/libs/ant-contrib-1.0b3.jar"/>
  </classpath>
</taskdef>


<target name="get.svn.version" description="Get the current subversion revision number of the project">
    <exec executable="svnversion"
          failifexecutionfails="no"
          outputproperty="svn.revision.version">
    	<arg value="."/>
    </exec>
</target>

<target name="get.rlvizlib.version">
    <exec executable="java"
          failifexecutionfails="no"
          outputproperty="rlvizlib.spec.version">
		<arg value="-jar"/>
		<arg value="${rlvizlib.jar}"/>
		<arg value="--version"/>
    </exec>
</target>



<target name="print-imports">
	<echo message="imported.basedir=${imported.basedir}" />
	<echo message="systemDir=${systemDir}" />
	<exec executable="pwd"
          failifexecutionfails="no"
          outputproperty="current.working.directory">
    </exec>
	<echo message="cwd=${current.working.directory}" />

    
	
</target>
</project>